<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω –£—Å–ª—É–≥</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="payment.css">
    <link rel="stylesheet" href="orders.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞ (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è, —Å–ª–µ–≤–∞) -->
        <div class="lang-switcher-compact">
            <select id="langSelect" class="lang-select-compact">
                <option value="ru">RU</option>
                <option value="en">EN</option>
            </select>
        </div>

        <header class="header">
            <h1 data-lang="shopTitle"></h1>
            <p data-lang="shopSubtitle"></p>
        </header>

        <div class="user-info" id="userInfo">
            <span id="userName"></span>
            <div class="user-actions">
                <button id="myOrdersBtn" class="btn-orders" style="display:none;">
                    <span class="icon">üì¶</span>
                    <span data-lang="myOrders">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</span>
                </button>
                <button id="logoutBtn" class="btn-secondary" data-lang="logout"></button>
            </div>
        </div>
        
        <div class="breadcrumbs">
            <a href="#" class="breadcrumb-item" data-lang="home"></a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-active" data-lang="catalog"></span>
        </div>

        <div class="auth-section" id="authSection">
            <div class="auth-card">
                <h2 data-lang="authTitle"></h2>
                <p data-lang="authDescription"></p>
                <button id="authBtn" class="btn-primary" data-lang="authButton"></button>
            </div>
        </div>

        <main class="main-content" id="mainContent" style="display: none;">
            <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
            <div class="breadcrumbs" id="breadcrumbs">
                <a href="#" class="breadcrumb-item" data-lang="home"></a>
                <span class="breadcrumb-separator">/</span>
                <span class="breadcrumb-active" data-lang="catalog"></span>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
            <div id="adminAddServiceContainer" style="display:none; margin-bottom:20px;">
                <button id="adminAddServiceBtn" class="btn btn-accent" data-lang="addService"></button>
            </div>

            <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
            <div class="search-section">
                <div class="search-container">
                    <input type="text" id="searchInput" class="search-input" data-lang="searchPlaceholder" placeholder="">
                    <div class="search-suggestions" id="searchSuggestions"></div>
                </div>

                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label" data-lang="filterCategory"></label>
                        <select id="categoryFilter" class="filter-select">
                            <option value=""></option> <option value="development" data-lang="categoryDevelopment"></option>
                            <option value="consultation" data-lang="categoryConsultation"></option>
                            <option value="design" data-lang="categoryDesign"></option>
                            <option value="other" data-lang="categoryOther"></option>
                        </select>
                    </div>
                
                    <div class="filter-group">
                        <label class="filter-label" data-lang="filterPrice"></label>
                        <select id="priceFilter" class="filter-select">
                            <option value=""></option> <option value="0-1000" data-lang="priceTo1000"></option>
                            <option value="1000-5000" data-lang="price1000_5000"></option>
                            <option value="5000-10000" data-lang="price5000_10000"></option>
                            <option value="10000+" data-lang="priceMore10000"></option>
                        </select>
                    </div>
                
                    <div class="filter-group">
                        <label class="filter-label" data-lang="filterSort"></label>
                        <select id="sortFilter" class="filter-select">
                            <option value="newest" data-lang="sortNewest"></option>
                            <option value="popular" data-lang="sortPopular"></option>
                            <option value="price-low" data-lang="sortPriceLow"></option>
                            <option value="price-high" data-lang="sortPriceHigh"></option>
                            <option value="rating" data-lang="sortRating"></option>
                        </select>
                    </div>
                
                    <div class="filter-group">
                        <label class="filter-label" data-lang="filterStock"></label>
                        <select id="stockFilter" class="filter-select">
                            <option value="" data-lang="stockAll"></option>
                            <option value="in-stock" data-lang="stockIn"></option>
                            <option value="low-stock" data-lang="stockLow"></option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
            <div class="popular-categories">
                <h2 data-lang="popularCategories"></h2>
                <div class="categories-grid">
                    <a href="#" class="category-card" data-category="development">
                        <span class="category-icon">üíª</span>
                        <div class="category-name" data-lang="categoryDevelopment"></div>
                    </a>
                    <a href="#" class="category-card" data-category="consultation">
                        <span class="category-icon">üìã</span>
                        <div class="category-name" data-lang="categoryConsultation"></div>
                    </a>
                    <a href="#" class="category-card" data-category="design">
                        <span class="category-icon">üé®</span>
                        <div class="category-name" data-lang="categoryDesign"></div>
                    </a>
                    <a href="#" class="category-card" data-category="other">
                        <span class="category-icon">üîß</span>
                        <div class="category-name" data-lang="categoryOther"></div>
                    </a>
                </div>
            </div>

            <!-- –¢–æ–≤–∞—Ä—ã -->
            <div class="products-grid" id="productsGrid">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>

            <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
            <div class="recommendations" id="recommendations" style="display: none;">
                <h2 data-lang="recommendations"></h2>
                <div class="products-grid" id="recommendationsGrid">
                    <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>


            <!-- –ó–∞–∫–∞–∑—ã -->
            <div class="orders-section" id="ordersSection" style="display: none;">
                <h2 data-lang="myOrders"></h2>
                <div class="orders-list" id="ordersList">
                    <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </main>

        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Ç–æ–≤–∞—Ä–∞ -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="product-details" id="productDetails">
                <!-- –î–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ -->
    <div class="modal" id="reviewsModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 data-lang="reviewsModalTitle"></h2>
            <div class="reviews-container" id="reviewsContainer">
                <!-- –û—Ç–∑—ã–≤—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="review-form" id="reviewForm" style="display: none;">
                <h3 data-lang="leaveReviewTitle"></h3>
                <form id="addReviewForm">
                    <div class="rating-input">
                        <label data-lang="yourRating"></label>
                        <div class="stars-input">
                            <span class="star" data-rating="1">‚òÖ</span>
                            <span class="star" data-rating="2">‚òÖ</span>
                            <span class="star" data-rating="3">‚òÖ</span>
                            <span class="star" data-rating="4">‚òÖ</span>
                            <span class="star" data-rating="5">‚òÖ</span>
                        </div>
                    </div>
                    <textarea data-lang="yourReviewPlaceholder" placeholder="–í–∞—à –æ—Ç–∑—ã–≤..." required></textarea>
                    <button type="submit" class="btn-primary" data-lang="sendReview">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                </form>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 data-lang="orderModalTitle"></h2>
            <div class="order-form" id="orderForm">
                <div class="order-summary">
                    <h3 data-lang="orderSummaryTitle"></h3>
                    <div id="orderSummary"></div>
                </div>
                <div class="payment-methods">
                    <h3 data-lang="paymentMethodTitle"></h3>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="payment" value="usdt-arbitrum" checked>
                            <span>USDT (Arbitrum)</span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="payment" value="usdt-optimism">
                            <span>USDT (Optimism)</span>
                        </label>
                    </div>
                </div>
                <div class="order-actions">
                    <button class="btn-secondary" id="cancelOrder" data-lang="cancel">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn-primary" id="confirmOrder" data-lang="confirmPayment">–û–ø–ª–∞—Ç–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
    <div class="support-chat" id="supportChat">
        <button class="support-toggle" id="supportToggle" data-lang="support">
            üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞
        </button>
        <div class="support-panel" id="supportPanel" style="display: none;">
            <div class="support-header">
                <h3 data-lang="supportTitle"></h3>
                <button class="support-close" id="supportClose">&times;</button>
            </div>
            <div class="support-content">
                <div class="faq-section">
                    <h4 data-lang="faq"></h4>
                    <div class="faq-item">
                        <div class="faq-question" data-lang="faq1_q"></div>
                        <div class="faq-answer" data-lang="faq1_a"></div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" data-lang="faq2_q"></div>
                        <div class="faq-answer" data-lang="faq2_a"></div>
                    </div>
                </div>
                <div class="contact-section">
                    <h4 data-lang="contactUs"></h4>
                    <a href="https://t.me/support" class="btn-primary" target="_blank" data-lang="contactTelegram">–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</a>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∏ -->
    <div class="modal" id="addServiceModal">
        <div class="modal-content">
            <span class="close" id="closeAddServiceModal">&times;</span>
            <h2>–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É</h2>
            <form id="addServiceForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea name="description" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select name="category">
                        <option value="development">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</option>
                        <option value="consultation">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</option>
                        <option value="design">–î–∏–∑–∞–π–Ω</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>üí∞ –¶–µ–Ω—ã (–∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É)</label>
                    <small style="color: #666; display: block; margin-bottom: 10px;">–ú–∏–Ω–∏–º—É–º: 0.001 TON/USDT –∏–ª–∏ 1 Star</small>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>üíé TON</label>
                        <input type="number" name="price_ton" step="0.001" min="0" placeholder="0.001">
                    </div>
                    <div class="form-group">
                        <label>üíµ USDT</label>
                        <input type="number" name="price_usdt" step="0.001" min="0" placeholder="0.001">
                    </div>
                    <div class="form-group">
                        <label>‚≠ê Stars</label>
                        <input type="number" name="price_stars" step="1" min="0" placeholder="1">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>–¶–µ–Ω–∞ (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –ø–æ–ª–µ, –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)</label>
                    <input type="number" name="price" step="0.01" value="1" readonly style="background: #f5f5f5;">
                    <small style="color: #666;">–≠—Ç–æ –ø–æ–ª–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥—Ä—É–≥–∏—Ö —Ü–µ–Ω</small>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–û—Å—Ç–∞—Ç–æ–∫</label>
                        <input type="number" name="stock" min="0" value="0">
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" name="infinite_stock">
                            –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <input type="file" name="image" accept="image/*">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelAddServiceBtn">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã" -->
    <div class="modal" id="ordersModal">
        <div class="modal-content modal-large">
            <span class="close" id="closeOrdersModal">&times;</span>
            <h2>üì¶ <span data-lang="myOrders">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</span></h2>
            <div id="ordersContainer" class="orders-container">
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <p data-lang="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ -->
    <div class="modal" id="reviewModal">
        <div class="modal-content">
            <span class="close" id="closeReviewModal">&times;</span>
            <h2>‚≠ê <span data-lang="leaveReview">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</span></h2>
            <form id="reviewForm">
                <input type="hidden" id="reviewProductId">
                <input type="hidden" id="reviewOrderId">
                
                <div class="form-group">
                    <label data-lang="rating">–û—Ü–µ–Ω–∫–∞</label>
                    <div class="rating-input" id="ratingInput">
                        <span class="star" data-rating="1">‚òÜ</span>
                        <span class="star" data-rating="2">‚òÜ</span>
                        <span class="star" data-rating="3">‚òÜ</span>
                        <span class="star" data-rating="4">‚òÜ</span>
                        <span class="star" data-rating="5">‚òÜ</span>
                    </div>
                    <input type="hidden" id="ratingValue" required>
                </div>
                
                <div class="form-group">
                    <label data-lang="reviewText">–í–∞—à –æ—Ç–∑—ã–≤</label>
                    <textarea id="reviewText" rows="4" required placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelReviewBtn" data-lang="cancel">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary" data-lang="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js?v=2.5.3"></script>
    <script src="reviews.js?v=2.5.3"></script>
    <script src="payment.js?v=2.5.3"></script>
    <script src="orders-manager.js?v=2.5.3"></script>
</body>
</html>